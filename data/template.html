<html>
<head>
	<meta charset="UTF-8">
	<style>
	{{.Css}}
	</style>
</head>
<body>
	<div id="player"></div>
	<script language="JavaScript">
	{{.Js}}
	</script>

	<div id='cast' style="display:none">{{.Cast}}</div>
	<script language="JavaScript">
		function b64DecodeUnicode(str) {
			// Going backwards: from bytestream, to percent-encoding, to original string.
			return decodeURIComponent(atob(str).split('').map(function(c) {
				return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
			}).join(''));
		}
		var data = b64DecodeUnicode(document.getElementById('cast').innerHTML)
		try {
			data = JSON.parse(data)
		} catch {
			data = data.match(/.*\n/g).map(JSON.parse)
		}
		player = asciinema.player.js.CreatePlayer(
		'player', data);
	</script>
</body>
</html>
