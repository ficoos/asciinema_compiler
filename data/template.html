<html>
<head>
	<meta charset="UTF-8">
	<style>
	{{.Css}}
	</style>
</head>
<body>
	<div id="player"></div>
	<script language="JavaScript">
	{{.LzmaJs}}
	</script>

	<div id="player-js" style="display:none">
	{{.PlayerJs}}
	</div>

	<div id='cast' style="display:none">{{.Cast}}</div>
	<script language="JavaScript">
		function b64Decode(str) {
			// Going backwards: from bytestream, to percent-encoding, to original string.
			return LZMA.decompress(Uint8Array.from(atob(str), c => c.charCodeAt(0)))
		}
		eval(b64Decode(document.getElementById('player-js').innerHTML))
		var data = b64Decode(document.getElementById('cast').innerHTML)
		try {
			data = JSON.parse(data)
		} catch {
			data = data.match(/.*\n/g).map(JSON.parse)
		}
		player = asciinema.player.js.CreatePlayer(
		'player', data);
	</script>
</body>
</html>
